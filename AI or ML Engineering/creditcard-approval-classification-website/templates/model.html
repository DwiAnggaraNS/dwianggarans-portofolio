<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>HaloRek's Model</title>
        <!-- Favicon-->
        <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='assets/Logo1.png') }}" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.4/components/testimonials/testimonial-3/assets/css/testimonial-3.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">    
        <style>
            html, body {
                overflow-x: hidden;
            }

            #btn-model-lanjut{
              border: 2px solid #002D62;
              margin-top: 10px;
            }

            #btn-model-lanjut:hover{
              background-color: #002D62;
              color: #F6F9FF;
            }

            #btn-model-navbar{
              border-radius: 15px;
              background-color: #E6DE01;
              color: #002D62;
              margin: 5px;
              /* padding: 5px; */
            }

            @media (max-width: 768px) {
              #predict-button, #retry-button {
                width: 100%!important;
              }
              #btn-model-navbar{
                background-color: #002D62;
                border: 0px;
                color: #E6DE01;
              }
            }
            body{
              font-family: "Open Sans", sans-serif;
            }
            </style>
    </head>
    <body class="d-flex flex-column h-100">
      <main class="flex-shrink-0">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg" style="background-color: #002D62;">
          <div class="container px-5">
            <img src="{{ url_for('static', filename='assets/Logo.png') }}" alt="Logo" width="150"  class="d-inline-block align-text-top" style="margin-left: 20px;" id="logo" href="landingpage.html">
                <button class="navbar-toggler" style="background-color: #E6DE01 !important;" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                  <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}" style="color:#F6F9FF; margin:5px">Laman</a></li>
                        <li class="nav-item"><a class="nav-link" href="{{ url_for('aboutus') }}" style="color:#F6F9FF; margin:5px">Tentang</a></li>
                        <li class="nav-item"><a class="nav-link" id="btn-model-navbar" href="{{ url_for('model') }}">Model Kami</a></li>
                      </ul>
                    </div>
                  </div>
            </nav>                
            <div class="row" style="background-color: #F6F9FF;">
              <section class="py-0" id="features">
                <div class="container px-5 my-5" style="padding: 4px;">
                  <div class="card" style="width: 100%; border: 1px solid white; background-color: white;">
                    <div class="card-body d-flex flex-column align-items-center">
                      <h5 class="card-title text-center text-bold">Prediksi Permohonan Kartu Kredit</h5>
                      <form method="POST" id="predict-form" action="/predict" class="needs-validation w-100" novalidate>
                        <div class="mb-3">
                          <label for="inputfitur" class="form-label">Pendapatan Tahunan
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right" data-bs-content="Pendapatan tahunan individu.">
                              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                              <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                            </svg>
                          </label>
                          <div class="input-group has-validation">
                            <input type="number" class="form-control" id="Annual_income" name="Annual_income" aria-describedby="inputGroupPrepend" required placeholder="">
                            <div class="invalid-feedback">
                              Please input a valid number.
                            </div>
                            <div class="valid-feedback">
                              Input valid.
                            </div>
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="inputfitur" class="form-label">Jumlah Hari Lama Bekerja</label>
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right" data-bs-content="Jumlah hari individu telah bekerja (nilai negatif menunjukkan jumlah hari bekerja di pekerjaan terakhir).">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                          </svg>
                          <input type="number" class="form-control" id="Employed_days" name="Employed_days" required placeholder="">
                          <div class="invalid-feedback">
                            Please input a valid number.
                          </div>
                          <div class="valid-feedback">
                            Input valid.
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="inputfitur" class="form-label">Jumlah Anggota Keluarga</label>
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right" data-bs-content="Jumlah anggota keluarga.">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                          </svg>
                          <input type="number" class="form-control" id="Family_Members" name="Family_Members" required placeholder="">
                          <div class="invalid-feedback">
                            Please input a valid number.
                          </div>
                          <div class="valid-feedback">
                            Input valid.
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="inputfitur" class="form-label">Jumlah Hari Sejak Ulang Tahun</label>
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right" data-bs-content="Jumlah hari sejak lahir hingga saat ini (dalam bentuk negatif). Misalnya, jika usia pemohon adalah 20 tahun, maka nilai Birthday_count akan menjadi -7.300 hari.">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                          </svg>
                          <input type="number" class="form-control" id="Birthday_count" name="Birthday_count" required placeholder="">
                          <div class="invalid-feedback">
                            Please input a valid number.
                          </div>
                          <div class="valid-feedback">
                            Input valid.
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="inputfitur" class="form-label">Pendidikan</label>
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right" data-bs-content="Tingkat pendidikan individu.">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                          </svg>
                          <select name="EDUCATION" id="EDUCATION" class="form-select" required>
                            <option value="" disabled selected>---PILIH PENDIDIKAN TERAKHIR--</option>
                            <option value="Lower secondary">Sekolah Menengah Pertama (SMP)</option>
                            <option value="Secondary / secondary special">Sekolah Menengah Atas / Kejuruan (SMA/SMK)</option>
                            <option value="Incomplete higher">Perguruan Tinggi (tidak selesai)</option>
                            <option value="Higher education">Perguruan Tinggi (D3/S1/D4)</option>
                            <option value="Academic degree">Gelar Akademik (S2/S3)</option>
                          </select>
                          <div class="invalid-feedback">
                            Please input a valid password.
                          </div>
                          <div class="valid-feedback">
                            Input valid.
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="inputfitur" class="form-label">Jenis Pendapatan</label>
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right" data-bs-content="Sumber pendapatan individu (misalnya, Pensiunan, Pegawai
                          Komersial).">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                          </svg>
                          <select name="Type_Income" id="Type_Income" class="form-select" required>
                            <option value="" disabled selected>---PILIH JENIS PENDAPATAN--</option>
                            <option value="Commercial associate">Mitra Komersial</option>
                            <option value="Pensioner">Pensiunan</option>
                            <option value="State servant">Pegawai Negeri</option>
                            <option value="Working">Pekerja Swasta/Umum</option>
                          </select>                          <div class="invalid-feedback">
                            Please input a valid answer.
                          </div>
                          <div class="valid-feedback">
                            Input valid.
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="inputfitur" class="form-label">Jenis Pekerjaan</label>
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right" data-bs-content="Jenis pekerjaan individu">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                          </svg>
                          <select name="Type_Occupation" id="Type_Occupation" class="form-select" required>
                            <option value="" disabled selected>---PILIH JENIS PEKERJAAN--</option>
                            <option value="Accountants">Akuntan</option>
                            <option value="Cleaning staff">Staf Kebersihan</option>
                            <option value="Cooking staff">Staf Memasak</option>
                            <option value="Core staff">Staf Inti</option>
                            <option value="HR staff">Staf Human Resource (HR)</option>
                            <option value="High skill tech staff">Staf Teknisi Tingkat Tinggi</option>
                            <option value="IT staff">Staf IT</option>
                            <option value="Laborers">Buruh</option>
                            <option value="Low-skill Laborers">Pekerja Kasar Tingkat Rendah</option>
                            <option value="Managers">Manajer</option>
                            <option value="Medicine staff">Staf Medis</option>
                            <option value="Private service staff">Staf Layanan Pribadi</option>
                            <option value="Realty agents">Agen Real Estate</option>
                            <option value="Sales staff">Staf Penjualan/Sales</option>
                            <option value="Secretaries">Sekretaris</option>
                            <option value="Security staff">Staf Keamanan</option>
                            <option value="Waiters/barmen staff">Pelayan/Bartender</option>                          
                            <option value="Drivers">Supir</option>                          
                          </select>
                          <div class="invalid-feedback">
                            Please input a valid answer.
                          </div>
                          <div class="valid-feedback">
                            Input valid.
                          </div>
                        </div>
                        <div class="mb-3">
                          <label for="inputfitur" class="form-label">Jenis Tempat Tinggal</label>
                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16" data-bs-container="body" data-bs-toggle="popover" data-bs-placement="right" data-bs-content="Jenis tempat tinggal (misalnya, Rumah atau apartemen).">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
                          </svg>
                          <select name="Housing_type" id="Housing_type" class="form-select" required>
                            <option value="" disabled selected>---PILIH JENIS PEKERJAAN--</option>
                            <option value="Co-op apartment">Apartemen Koperasi</option>
                            <option value="House / apartment">Rumah / Apartemen</option>
                            <option value="Municipal apartment">Apartemen Pemerintah Kota / Dinas</option>
                            <option value="Office apartment">Apartemen Kantor</option>
                            <option value="Rented apartment">Apartemen Sewa</option>
                            <option value="With parents">Tinggal dengan Orang Tua</option>                       
                          </select>
                          <div class="invalid-feedback">
                            Please input a valid answer.
                          </div>
                          <div class="valid-feedback">
                            Input valid.
                          </div>
                        </div>
                        <div class="d-flex justify-content-center flex-column align-items-center">
                          <button type="submit" class="btn btn-primary fs-4 rounded-2" id="predict-button" style="background-color: #002D62; 
                                                                                                    color: white;
                                                                                                    border:#002D62 1px solid;
                                                                                                    width: 15%;
                                                                                                    border-radius: 20px!important;
                                                                                                    padding: 5px;
                                                                                                    font-size: 20px!important;">Prediksi</button>
                          <button type="button" class="btn btn-secondary fs-4 rounded-2 mt-3" id="retry-button" style="display: none; 
                                                                                                    background-color: #002D62; 
                                                                                                    color: #E6DE01;
                                                                                                    border:#002D62 1px solid;
                                                                                                    width: 15%;
                                                                                                    border-radius: 20px!important;
                                                                                                    padding: 5px;
                                                                                                    font-size: 20px!important;">Prediksi Ulang</button>
                      </div>
                      </form>
                    </div>                    
                  </div>
                </div>
              </section>
            </div>  
            
        
        </main>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <footer class="py-4 mt-auto" style="background-color: #002D62;">
          <div class="container px-5">
              <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                  <div class="col-auto"><div class="small m-0 text-white">Copyright &copy; HaloRek 2024</div></div>
              </div>
          </div>
      </footer>
    </body>
    <script>
      // Initialize Bootstrap popover
      document.addEventListener('DOMContentLoaded', function () {
          var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
          var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
              return new bootstrap.Popover(popoverTriggerEl)
          });
    
          // Form submission
          document.getElementById('predict-form').addEventListener('submit', function(e) { // Use the form element
              e.preventDefault();
              
              // Get form data
              const formData = {
                  Annual_income: document.getElementById('Annual_income').value,
                  Employed_days: document.getElementById('Employed_days').value,
                  Family_Members: document.getElementById('Family_Members').value,
                  Birthday_count: document.getElementById('Birthday_count').value,
                  EDUCATION: document.getElementById('EDUCATION').value,
                  Type_Income: document.getElementById('Type_Income').value,
                  Type_Occupation: document.getElementById('Type_Occupation').value,
                  Housing_type: document.getElementById('Housing_type').value
              };
    
              // POST prediction request
              fetch('/predict', {
                  method: 'POST',
                  headers: {
                      'Content-Type': 'application/json',
                  },
                  body: JSON.stringify(formData),
              })
              .then(response => response.json())
              .then(data => {
                  const predictButton = document.getElementById('predict-button');
                  const retryButton = document.getElementById('retry-button');
    
                  // Update UI with prediction result
                  if (data.prediction === "Approved") {
                      predictButton.textContent = "Permohonan DITERIMA";
                      predictButton.style.backgroundColor = "green";
                  } else {
                      predictButton.textContent = "Permohonan DITOLAK";
                      predictButton.style.backgroundColor = "red";
                  }
    
                  predictButton.disabled = true;
                  retryButton.style.display = "block";
              })
              .catch((error) => {
                  console.error('Error:', error);
              });
          });
    
          // Retry button functionality
          document.getElementById('retry-button').addEventListener('click', function() {
              location.reload();
          });
      });
    </script>
    
</html>
